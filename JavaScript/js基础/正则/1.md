> 文章为《JavaScript正则迷你书》读书笔记，推荐阅读：[《老姚 - JavaScript正则迷你书》](https://zhuanlan.zhihu.com/p/29707385)
## 正则
> 正则是匹配模式，要么匹配字符，要么匹配位置。
### 字符匹配
*  横向模糊匹配
> 横向模糊指的是，一个正则可匹配的字符串的长度不是固定的，可以是多种情况的。

使用量词 {m,n}，表示连续出现最少 m 次，最多 n 次。如：
``` javascript
let reg = /12{3,4}5/g;
console.log('12225'.match(reg)); // [ '12225' ]
```
* 纵向模糊匹配
> 纵向模糊指的是，一个正则匹配的字符串，具体到某一位字符时，它可以不是某个确定的字符，可以有多种
  可能。

使用字符组 [abc]，表示该字符是可以字符 "a"、"b"、"c" 中的任何一个。
``` javascript
    let reg = /12[34]5/g;
    console.log('12225'.match(reg)); // null
    console.log('1235'.match(reg)); // [ '1235' ]
```
* 字符组
[12345] 匹配其中某个字符；[1-6a-fG-M] 简写；[^abc] 排除，取除了a,b,c的任意字符
  * \d：[0 -9]，表示是一个数字。
  * \D：[^0-9]，除数字以外的所有字符。
  * \w：[0-9a-zA-Z_]，表示数字、大小写字母和下划线。
  * \W：[^0-9a-zA-Z_]，除数字、大小写字母和下划线。
  * \s：[\t\v\n\r\f]，表示空白符，包括空格、水平制表符、垂直制表符、换行符、回车符、换页符。
  * \S：非空白符。
  * . ：表示 [^\n\r\u2028\u2029]。通配符，表示几乎任意字符。换行符、回车符、行分隔符和段分隔符除外。
  匹配任意字符：[\d\D]、[\w\W]、[\s\S] 和 [^]。
* 量词
  * {m,} 表示至少出现 m 次。
  * {m} 等价于 {m,m}，表示出现 m 次。
  ? 等价于 {0,1}，表示出现或者不出现。
  + 等价于 {1,}，表示出现至少一次。
  * 等价于 {0,}，表示出现任意次，有可能不出现。
  
* 贪婪匹配与惰性匹配
  * {2, 5} 量词匹配是贪婪的，在能力范围内，有多少要多少。
  * 通过在量词后面加个问号就能实现惰性匹配
  | 惰性量词 | 贪婪量词 |
  | ------ | ------ |
  | {m,n}? | {m,n} |
  |{m,}? | {m,}
  | ?? | ? |
  | +? | + |
  | *? | * |
* 多选分支
> (p1|p2|p3)，其中 p1、p2 和 p3 是子模式，用 |（管道符）分隔，表示其中任何之一。

``` javascript
 // 分支结构也是惰性的，即当前面的匹配上了，后面的就不再尝试了。
 var regex = /good|goodbye/g;
 var string = "goodbye";
 console.log( string.match(regex) ) //  ["good"]
```
* 案例
  * 匹配 16 进制颜色值（#ffbbad）：`/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/g`；
  * 匹配时间（23:59、07:30）：`/^([01][0-9]|[2][0-3]):[0-5][0-9]$/`；（7:6）：`/^(0?[0-9]|1[0-9]|[2][0-3]):(0?[0-9]|[1-5][0-9])$/`；
  * 匹配日期（2017-06-10）：`/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/`；
  * 匹配 id（id="container"）：`/id=".*?"/`、`/id="[^"]*"/`
### 位置匹配
* 什么是位置
位置（锚）是*相邻*字符之间的位置。如：↓a↓b↓c↓d↓ （↓ 处，为位置）。es5 的六个锚：^、$、\b、\B、(?=p)、(?!p) 
* ^ 和 $，匹配开头和结尾
* \b 和 \B，\b 是单词边界，具体就是 \w 与 \W 之间的位置，也包括 \w 与 ^ 之间的位置，和 \w 与 $ 之间的位置。